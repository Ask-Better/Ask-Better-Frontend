var pe=Object.defineProperty;var me=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>(me(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function q(){}function ce(e){return e()}function Z(){return Object.create(null)}function k(e){e.forEach(ce)}function ue(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ge(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function R(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function N(){return w(" ")}function fe(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _e(e){return Array.from(e.childNodes)}function H(e,t){t=""+t,e.data!==t&&(e.data=t)}let T;function x(e){T=e}function $e(){if(!T)throw new Error("Function called outside component initialization");return T}function ve(e){$e().$$.on_mount.push(e)}const O=[],ee=[];let S=[];const te=[],ye=Promise.resolve();let D=!1;function be(){D||(D=!0,ye.then(ae))}function G(e){S.push(e)}const I=new Set;let C=0;function ae(){if(C!==0)return;const e=T;do{try{for(;C<O.length;){const t=O[C];C++,x(t),we(t.$$)}}catch(t){throw O.length=0,C=0,t}for(x(null),O.length=0,C=0;ee.length;)ee.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];I.has(n)||(I.add(n),n())}S.length=0}while(O.length);for(;te.length;)te.pop()();D=!1,I.clear(),x(e)}function we(e){if(e.fragment!==null){e.update(),k(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function qe(e){const t=[],n=[];S.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),S=t}const z=new Set;let b;function Ae(){b={r:0,c:[],p:b}}function je(){b.r||k(b.c),b=b.p}function E(e,t){e&&e.i&&(z.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(z.has(e))return;z.add(e),b.c.push(()=>{z.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function L(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function de(e){e&&e.c()}function U(e,t,n){const{fragment:o,after_update:s}=e.$$;o&&o.m(t,n),G(()=>{const r=e.$$.on_mount.map(ce).filter(ue);e.$$.on_destroy?e.$$.on_destroy.push(...r):k(r),e.$$.on_mount=[]}),s.forEach(G)}function W(e,t){const n=e.$$;n.fragment!==null&&(qe(n.after_update),k(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){e.$$.dirty[0]===-1&&(O.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(e,t,n,o,s,r,i=null,f=[-1]){const l=T;x(e);const c=e.$$={fragment:null,ctx:[],props:r,update:q,not_equal:s,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Z(),dirty:f,skip_bound:!1,root:t.target||l.$$.root};i&&i(c.root);let a=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...v)=>{const y=v.length?v[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=y)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](y),a&&Ce(e,u)),h}):[],c.update(),a=!0,k(c.before_update),c.fragment=o?o(c.ctx):!1,t.target){if(t.hydrate){const u=_e(t.target);c.fragment&&c.fragment.l(u),u.forEach(P)}else c.fragment&&c.fragment.c();t.intro&&E(e.$$.fragment),U(e,t.target,t.anchor),ae()}x(l)}class V{constructor(){F(this,"$$");F(this,"$$set")}$destroy(){W(this,1),this.$destroy=q}$on(t,n){if(!ue(n))return q;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(t){this.$$set&&!ge(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Oe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oe);function ne(e,t,n){const o=e.slice();return o[9]=t[n],o}function oe(e){let t,n,o=e[9]+"",s,r,i,f,l;function c(){return e[4](e[9])}return{c(){t=_("div"),n=_("button"),s=w(o),i=N(),$(n,"class",r="option-"+(e[1].includes(e[9])?"selected":"unselected")+" svelte-1qroj6t"),$(t,"class","option-container svelte-1qroj6t")},m(a,u){M(a,t,u),d(t,n),d(n,s),d(t,i),f||(l=fe(n,"click",c),f=!0)},p(a,u){e=a,u&1&&o!==(o=e[9]+"")&&H(s,o),u&3&&r!==(r="option-"+(e[1].includes(e[9])?"selected":"unselected")+" svelte-1qroj6t")&&$(n,"class",r)},d(a){a&&P(t),f=!1,l()}}}function Ee(e){let t,n,o,s=e[0].question+"",r,i,f,l=e[0].type+"",c,a,u,h,v,y,Q,X,A=L(e[0].options),g=[];for(let p=0;p<A.length;p+=1)g[p]=oe(ne(e,A,p));return{c(){t=_("div"),n=_("h2"),o=_("ruby"),r=w(s),i=N(),f=_("rt"),c=w(l),a=N(),u=_("div");for(let p=0;p<g.length;p+=1)g[p].c();h=N(),v=_("div"),y=_("button"),y.textContent="Submit",$(f,"class","svelte-1qroj6t"),$(o,"class","svelte-1qroj6t"),$(u,"class","options svelte-1qroj6t"),$(y,"class","svelte-1qroj6t"),$(v,"class","submision svelte-1qroj6t")},m(p,j){M(p,t,j),d(t,n),d(n,o),d(o,r),d(o,i),d(o,f),d(f,c),d(t,a),d(t,u);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(u,null);d(t,h),d(t,v),d(v,y),Q||(X=fe(y,"click",e[3]),Q=!0)},p(p,[j]){if(j&1&&s!==(s=p[0].question+"")&&H(r,s),j&1&&l!==(l=p[0].type+"")&&H(c,l),j&7){A=L(p[0].options);let m;for(m=0;m<A.length;m+=1){const Y=ne(p,A,m);g[m]?g[m].p(Y,j):(g[m]=oe(Y),g[m].c(),g[m].m(u,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=A.length}},i:q,o:q,d(p){p&&P(t),R(g,p),Q=!1,X()}}}function Ne(e,t,n){let{question:o}=t,s=[];const r=h=>{s.includes(h)?n(1,s=s.filter(v=>v!==h)):n(1,s=[...s,h])},i=h=>{n(1,s=[h])},f=o.allowMultipleAnswers?r:i,l=()=>{};//! TODO
const c=()=>{};//! TODO
const a=o.type==="Quiz"?l:c,u=h=>f(h);return e.$$set=h=>{"question"in h&&n(0,o=h.question)},[o,s,f,a,u]}class Se extends V{constructor(t){super(),K(this,t,Ne,Ee,J,{question:0})}}const he="https://zz1djn2p-8080.euw.devtunnels.ms/",Le=[{question:"Which of these are mammals?",options:["Dog","Cat","Fish","Bird","Human","Snake"],category:"Biology",allowMultipleAnswers:!0,type:"Quiz",correctAnswers:["Dog","Cat","Human"]},{question:"What is your favorite color?",options:["Red","Blue","Green"],category:"Poll",allowMultipleAnswers:!1,type:"Poll",correctAnswers:null}],Pe=async()=>{const e=await fetch(he+"api/quiz/list?offset=0",{method:"GET",credentials:"include",headers:{"Access-Controll-Allow-Origin":"*","Content-Type":"application/json"}});return e.ok?JSON.parse(await e.json()):(console.error("Failed to fetch questions: "+e.statusText),[])},xe=async()=>{const e=await fetch(he+"api/account/login",{method:"POST",credentials:"include",headers:{"Access-Controll-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({username:"TestUser",passwordHash512:"ee26b0dd4af7e749aa1a8ee3c10ae9923f618980772e473f8819a5d4940e0db27ac185f8a0e1d5f84f88bc887fd67b143732c304cc5fa9ad8e6f57f50028a8ff"})});e.ok||(console.error("Login failed: "+e.statusText),console.log(e))};function se(e,t,n){const o=e.slice();return o[1]=t[n],o}function le(e){let t,n,o=e[1].name.slice(0,10)+"",s,r,i=e[1].body.slice(0,20)+"",f;return{c(){t=_("div"),n=_("strong"),s=w(o),r=w(": "),f=w(i),$(t,"class","message svelte-ouqfvi")},m(l,c){M(l,t,c),d(t,n),d(n,s),d(t,r),d(t,f)},p(l,c){c&1&&o!==(o=l[1].name.slice(0,10)+"")&&H(s,o),c&1&&i!==(i=l[1].body.slice(0,20)+"")&&H(f,i)},d(l){l&&P(t)}}}function He(e){let t,n,o,s=L(e[0]),r=[];for(let i=0;i<s.length;i+=1)r[i]=le(se(e,s,i));return{c(){t=_("div");for(let i=0;i<r.length;i+=1)r[i].c();n=N(),o=_("div"),o.innerHTML='<input type="text" class="message-input svelte-ouqfvi" value="Enter a Message..."/> <button class="send-button">Send</button>',$(o,"class","message-submision svelte-ouqfvi"),$(t,"class","chat-area svelte-ouqfvi")},m(i,f){M(i,t,f);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null);d(t,n),d(t,o)},p(i,[f]){if(f&1){s=L(i[0]);let l;for(l=0;l<s.length;l+=1){const c=se(i,s,l);r[l]?r[l].p(c,f):(r[l]=le(c),r[l].c(),r[l].m(t,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=s.length}},i:q,o:q,d(i){i&&P(t),R(r,i)}}}function Te(e,t,n){let{comments:o}=t;return e.$$set=s=>{"comments"in s&&n(0,o=s.comments)},[o]}class ke extends V{constructor(t){super(),K(this,t,Te,He,J,{comments:0})}}const Me=async()=>await(await fetch("https://jsonplaceholder.typicode.com/comments")).json();function re(e,t,n){const o=e.slice();return o[2]=t[n],o}function ie(e){let t,n;return t=new Se({props:{question:e[2]}}),{c(){de(t.$$.fragment)},m(o,s){U(t,o,s),n=!0},p(o,s){const r={};s&1&&(r.question=o[2]),t.$set(r)},i(o){n||(E(t.$$.fragment,o),n=!0)},o(o){B(t.$$.fragment,o),n=!1},d(o){W(t,o)}}}function ze(e){let t,n,o,s;n=new ke({props:{comments:e[1]}});let r=L(e[0]),i=[];for(let l=0;l<r.length;l+=1)i[l]=ie(re(e,r,l));const f=l=>B(i[l],1,1,()=>{i[l]=null});return{c(){t=_("main"),de(n.$$.fragment),o=N();for(let l=0;l<i.length;l+=1)i[l].c()},m(l,c){M(l,t,c),U(n,t,null),d(t,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null);s=!0},p(l,[c]){const a={};if(c&2&&(a.comments=l[1]),n.$set(a),c&1){r=L(l[0]);let u;for(u=0;u<r.length;u+=1){const h=re(l,r,u);i[u]?(i[u].p(h,c),E(i[u],1)):(i[u]=ie(h),i[u].c(),E(i[u],1),i[u].m(t,null))}for(Ae(),u=r.length;u<i.length;u+=1)f(u);je()}},i(l){if(!s){E(n.$$.fragment,l);for(let c=0;c<r.length;c+=1)E(i[c]);s=!0}},o(l){B(n.$$.fragment,l),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)B(i[c]);s=!1},d(l){l&&P(t),W(n),R(i,l)}}}function Be(e,t,n){let o=Le,s=[];return ve(()=>{(async()=>(await xe(),Pe().then(r=>{if(r.length===0){console.error("No questions found");return}n(0,o=r.slice(0,5))})))(),Me().then(r=>{if(r.length===0){console.error("No comments found");return}n(1,s=r.slice(0,5))})}),[o,s]}class Qe extends V{constructor(t){super(),K(this,t,Be,ze,J,{})}}new Qe({target:document.getElementById("app")});
